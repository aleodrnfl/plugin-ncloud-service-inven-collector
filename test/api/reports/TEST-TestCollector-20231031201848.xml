<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="TestCollector-20231031201848" tests="3" file=".py" time="1.397" timestamp="2023-10-31T20:18:49" failures="0" errors="0" skipped="0">
	<testcase classname="TestCollector" name="test_collect" time="1.354" timestamp="2023-10-31T20:18:49" file="test_cloudservice_api.py" line="53">
		<system-out><![CDATA[{'match_rules': {'1': ['name', 'group', 'provider']},
 'resource': {'group': 'CloudStorage',
              'is_major': True,
              'is_primary': True,
              'labels': ['Storage'],
              'metadata': {'view': {'search': [{'key': 'data.id', 'name': 'ID'},
                                               {'key': 'data.name',
                                                'name': 'Name'},
                                               {'key': 'data.location.location',
                                                'name': 'Location'},
                                               {'data_type': 'integer',
                                                'key': 'data.object_count',
                                                'name': 'Object Counts'},
                                               {'data_type': 'integer',
                                                'key': 'data.object_total_size',
                                                'name': 'Object Total Size '
                                                        '(Bytes)'},
                                               {'data_type': 'datetime',
                                                'key': 'data.creation_timestamp',
                                                'name': 'Creation Time'},
                                               {'data_type': 'datetime',
                                                'key': 'data.update_timestamp',
                                                'name': 'Update Time'}],
                                    'table': {'layout': {'name': '',
                                                         'options': {'fields': [{'key': 'data.public_access',
                                                                                 'name': 'Public '
                                                                                         'Access',
                                                                                 'options': {'Not authorized': {'options': {'icon': {'color': 'yellow.500'}},
                                                                                                                'type': 'state'},
                                                                                             'Not public': {'options': {'icon': {'color': 'green.500'}},
                                                                                                            'type': 'state'},
                                                                                             'Public to internet': {'options': {'icon': {'color': 'red.500'},
                                                                                                                                'text_color': 'red.500'},
                                                                                                                    'type': 'state'},
                                                                                             'Subject to object ACLs': {'options': {'icon': {'color': 'green.500'}},
                                                                                                                        'type': 'state'}},
                                                                                 'type': 'enum'},
                                                                                {'key': 'data.object_count',
                                                                                 'name': 'Object '
                                                                                         'Total '
                                                                                         'Counts',
                                                                                 'type': 'text'},
                                                                                {'key': 'data.object_total_size',
                                                                                 'name': 'Object '
                                                                                         'Size',
                                                                                 'type': 'size'},
                                                                                {'key': 'data.access_control',
                                                                                 'name': 'Access '
                                                                                         'Control',
                                                                                 'type': 'text'},
                                                                                {'key': 'data.lifecycle_rule.lifecycle_rule_display',
                                                                                 'name': 'Lifecycle '
                                                                                         'rules',
                                                                                 'type': 'text'},
                                                                                {'key': 'data.requester_pays',
                                                                                 'name': 'Requester '
                                                                                         'Pays',
                                                                                 'options': {'OFF': {'options': {'background_color': 'indigo.500'},
                                                                                                     'type': 'badge'},
                                                                                             'ON': {'options': {'background_color': 'coral.600'},
                                                                                                    'type': 'badge'}},
                                                                                 'type': 'enum'}]},
                                                         'type': 'query-search-table'}},
                                    'widget': [{'name': 'Count by Project',
                                                'options': {'chart_type': 'DONUT'},
                                                'query': {'aggregate': [{'group': {'fields': [{'name': 'value',
                                                                                               'operator': 'count'}],
                                                                                   'keys': [{'key': 'account',
                                                                                             'name': 'name'}]}}],
                                                          'filter': [{'key': 'provider',
                                                                      'operator': 'eq',
                                                                      'value': 'naver_cloud'},
                                                                     {'key': 'cloud_service_group',
                                                                      'operator': 'eq',
                                                                      'value': 'storage'},
                                                                     {'key': 'cloud_service_type',
                                                                      'operator': 'eq',
                                                                      'value': 'storage'}]},
                                                'type': 'card'},
                                               {'name': 'Count by Project',
                                                'options': {'chart_type': 'DONUT'},
                                                'query': {'aggregate': [{'group': {'fields': [{'name': 'value',
                                                                                               'operator': 'count'}],
                                                                                   'keys': [{'key': 'account',
                                                                                             'name': 'name'}]}}],
                                                          'filter': [{'key': 'provider',
                                                                      'operator': 'eq',
                                                                      'value': 'naver_cloud'},
                                                                     {'key': 'cloud_service_group',
                                                                      'operator': 'eq',
                                                                      'value': 'storage'},
                                                                     {'key': 'cloud_service_type',
                                                                      'operator': 'eq',
                                                                      'value': 'storage'}]},
                                                'type': 'chart'},
                                               {'name': 'Count by Project',
                                                'options': {'chart_type': 'DONUT'},
                                                'query': {'aggregate': [{'group': {'fields': [{'name': 'value',
                                                                                               'operator': 'count'}],
                                                                                   'keys': [{'key': 'account',
                                                                                             'name': 'name'}]}}],
                                                          'filter': [{'key': 'provider',
                                                                      'operator': 'eq',
                                                                      'value': 'naver_cloud'},
                                                                     {'key': 'cloud_service_group',
                                                                      'operator': 'eq',
                                                                      'value': 'storage'},
                                                                     {'key': 'cloud_service_type',
                                                                      'operator': 'eq',
                                                                      'value': 'storage'}]},
                                                'type': 'chart'}]}},
              'name': 'ObjectStorage',
              'provider': 'naver_cloud',
              'resource_type': 'inventory.CloudService',
              'service_code': 'CloudStorage',
              'tags': {'spaceone:icon': 'https://spaceone-custom-assets.s3.ap-northeast-2.amazonaws.com/console-assets/icons/cloud-services/naver_cloud/Cloud_Storage.svg'}},
 'resource_type': 'inventory.CloudServiceType',
 'state': 'SUCCESS'}

{'match_rules': {'1': ['reference.resource_id',
                       'provider',
                       'cloud_service_type',
                       'cloud_service_group']},
 'message': 'An error occurred (NoSuchCORSConfiguration) when calling the '
            'GetBucketCors operation: The CORS configuration does not exist',
 'resource': {'cloud_service_group': 'CloudStorage',
              'cloud_service_type': 'ObjectStorage',
              'provider': 'naver_cloud',
              'resource_type': 'inventory.CloudService'},
 'resource_type': 'inventory.ErrorResource',
 'state': 'FAILURE'}

{'match_rules': {'1': ['name', 'group', 'provider']},
 'resource': {'group': 'CloudStorage',
              'is_major': True,
              'is_primary': True,
              'labels': ['Storage'],
              'metadata': {'view': {'search': [{'key': 'data.id', 'name': 'ID'},
                                               {'key': 'data.name',
                                                'name': 'Name'},
                                               {'key': 'data.location.location',
                                                'name': 'Location'},
                                               {'data_type': 'integer',
                                                'key': 'data.object_count',
                                                'name': 'Object Counts'},
                                               {'data_type': 'integer',
                                                'key': 'data.object_total_size',
                                                'name': 'Object Total Size '
                                                        '(Bytes)'},
                                               {'data_type': 'datetime',
                                                'key': 'data.creation_timestamp',
                                                'name': 'Creation Time'},
                                               {'data_type': 'datetime',
                                                'key': 'data.update_timestamp',
                                                'name': 'Update Time'}],
                                    'table': {'layout': {'name': '',
                                                         'options': {'fields': [{'key': 'data.public_access',
                                                                                 'name': 'Public '
                                                                                         'Access',
                                                                                 'options': {'Not authorized': {'options': {'icon': {'color': 'yellow.500'}},
                                                                                                                'type': 'state'},
                                                                                             'Not public': {'options': {'icon': {'color': 'green.500'}},
                                                                                                            'type': 'state'},
                                                                                             'Public to internet': {'options': {'icon': {'color': 'red.500'},
                                                                                                                                'text_color': 'red.500'},
                                                                                                                    'type': 'state'},
                                                                                             'Subject to object ACLs': {'options': {'icon': {'color': 'green.500'}},
                                                                                                                        'type': 'state'}},
                                                                                 'type': 'enum'},
                                                                                {'key': 'data.object_count',
                                                                                 'name': 'Object '
                                                                                         'Total '
                                                                                         'Counts',
                                                                                 'type': 'text'},
                                                                                {'key': 'data.object_total_size',
                                                                                 'name': 'Object '
                                                                                         'Size',
                                                                                 'type': 'size'},
                                                                                {'key': 'data.access_control',
                                                                                 'name': 'Access '
                                                                                         'Control',
                                                                                 'type': 'text'},
                                                                                {'key': 'data.lifecycle_rule.lifecycle_rule_display',
                                                                                 'name': 'Lifecycle '
                                                                                         'rules',
                                                                                 'type': 'text'},
                                                                                {'key': 'data.requester_pays',
                                                                                 'name': 'Requester '
                                                                                         'Pays',
                                                                                 'options': {'OFF': {'options': {'background_color': 'indigo.500'},
                                                                                                     'type': 'badge'},
                                                                                             'ON': {'options': {'background_color': 'coral.600'},
                                                                                                    'type': 'badge'}},
                                                                                 'type': 'enum'}]},
                                                         'type': 'query-search-table'}},
                                    'widget': [{'name': 'Count by Project',
                                                'options': {'chart_type': 'DONUT'},
                                                'query': {'aggregate': [{'group': {'fields': [{'name': 'value',
                                                                                               'operator': 'count'}],
                                                                                   'keys': [{'key': 'account',
                                                                                             'name': 'name'}]}}],
                                                          'filter': [{'key': 'provider',
                                                                      'operator': 'eq',
                                                                      'value': 'naver_cloud'},
                                                                     {'key': 'cloud_service_group',
                                                                      'operator': 'eq',
                                                                      'value': 'storage'},
                                                                     {'key': 'cloud_service_type',
                                                                      'operator': 'eq',
                                                                      'value': 'storage'}]},
                                                'type': 'card'},
                                               {'name': 'Count by Project',
                                                'options': {'chart_type': 'DONUT'},
                                                'query': {'aggregate': [{'group': {'fields': [{'name': 'value',
                                                                                               'operator': 'count'}],
                                                                                   'keys': [{'key': 'account',
                                                                                             'name': 'name'}]}}],
                                                          'filter': [{'key': 'provider',
                                                                      'operator': 'eq',
                                                                      'value': 'naver_cloud'},
                                                                     {'key': 'cloud_service_group',
                                                                      'operator': 'eq',
                                                                      'value': 'storage'},
                                                                     {'key': 'cloud_service_type',
                                                                      'operator': 'eq',
                                                                      'value': 'storage'}]},
                                                'type': 'chart'},
                                               {'name': 'Count by Project',
                                                'options': {'chart_type': 'DONUT'},
                                                'query': {'aggregate': [{'group': {'fields': [{'name': 'value',
                                                                                               'operator': 'count'}],
                                                                                   'keys': [{'key': 'account',
                                                                                             'name': 'name'}]}}],
                                                          'filter': [{'key': 'provider',
                                                                      'operator': 'eq',
                                                                      'value': 'naver_cloud'},
                                                                     {'key': 'cloud_service_group',
                                                                      'operator': 'eq',
                                                                      'value': 'storage'},
                                                                     {'key': 'cloud_service_type',
                                                                      'operator': 'eq',
                                                                      'value': 'storage'}]},
                                                'type': 'chart'}]}},
              'name': 'ArchiveStorage',
              'provider': 'naver_cloud',
              'resource_type': 'inventory.CloudService',
              'service_code': 'CloudStorage',
              'tags': {'spaceone:icon': 'https://spaceone-custom-assets.s3.ap-northeast-2.amazonaws.com/console-assets/icons/cloud-services/naver_cloud/Cloud_Storage.svg'}},
 'resource_type': 'inventory.CloudServiceType',
 'state': 'SUCCESS'}

{'match_rules': {'1': ['reference.resource_id',
                       'provider',
                       'cloud_service_type',
                       'cloud_service_group']},
 'resource': {'account': '',
              'cloud_service_group': 'Storage',
              'cloud_service_type': 'ArchiveStorage',
              'data': {'bytes': 252416.0,
                       'count': 1.0,
                       'last_modified': '2023-10-31T04:18:42.458450',
                       'name': 'buckettest0712'},
              'launched_at': '2023-10-31T04:18:42.458450',
              'metadata': {'view': {'sub_data': {'layouts': [{'name': 'bucket',
                                                              'options': {'layouts': [{'name': 'Bucket '
                                                                                               'Instance',
                                                                                       'options': {},
                                                                                       'type': 'item'}]},
                                                              'type': 'list'}]}}},
              'name': 'buckettest0712',
              'provider': 'naver_cloud',
              'region_code': ''},
 'resource_type': 'inventory.CloudService',
 'state': 'SUCCESS'}

{'match_rules': {'1': ['reference.resource_id',
                       'provider',
                       'cloud_service_type',
                       'cloud_service_group']},
 'resource': {'account': '',
              'cloud_service_group': 'Storage',
              'cloud_service_type': 'ArchiveStorage',
              'data': {'bytes': 252416.0,
                       'count': 1.0,
                       'last_modified': '2023-10-31T04:18:42.458450',
                       'name': 'buckettest0712'},
              'launched_at': '2023-10-31T04:18:42.458450',
              'metadata': {'view': {'sub_data': {'layouts': [{'name': 'bucket',
                                                              'options': {'layouts': [{'name': 'Bucket '
                                                                                               'Instance',
                                                                                       'options': {},
                                                                                       'type': 'item'}]},
                                                              'type': 'list'}]}}},
              'name': 'buckettest0712',
              'provider': 'naver_cloud',
              'region_code': ''},
 'resource_type': 'inventory.CloudService',
 'state': 'SUCCESS'}

]]></system-out>
	</testcase>
	<testcase classname="TestCollector" name="test_init" time="0.016" timestamp="2023-10-31T20:18:49" file="test_cloudservice_api.py" line="43">
		<system-out><![CDATA[{'metadata': {'cloud_service_group_map': {'Compute': ['ServerInstanceManager',
                                                      'AutoscalingManager'],
                                          'Content Delivery': ['CdnManager'],
                                          'Database': ['CloudDBManager'],
                                          'Management': ['MonitoringManager'],
                                          'Networking': ['VPCNetworkManager'],
                                          'Storage': ['ObjectStorageManager',
                                                      'ArchiveStorageManager']},
              'filter_format': [],
              'supported_features': ['garbage_collection'],
              'supported_resource_type': ['inventory.CloudService',
                                          'inventory.CloudServiceType',
                                          'inventory.Region',
                                          'inventory.ErrorResource'],
              'supported_schedules': ['hours']}}

]]></system-out>
	</testcase>
	<testcase classname="TestCollector" name="test_verify" time="0.027" timestamp="2023-10-31T20:18:49" file="test_cloudservice_api.py" line="47">
		<system-out><![CDATA[{}

]]></system-out>
	</testcase>
</testsuite>
